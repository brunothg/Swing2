package bno.swing2.awt.hexcolorchooser;

import java.awt.Color;
import java.awt.Dimension;
import java.awt.Graphics;

import javax.swing.JComponent;
import javax.swing.plaf.ComponentUI;

import bno.swing2.awt.BGraphics2D;

public class BasicBHexColorChooserWidgetUI extends BHexColorChooserWidgetUI {

	private static final int numberOfHex = 13;

	//@formatter:off
	private static final Color[][] colors = new Color[][] {
			{ gc(0x00, 0x33, 0x66), gc(0x33, 0x66, 0x99), gc(0x33, 0x66, 0xCC), gc(0x00, 0x33, 0x99), gc(0x00, 0x00, 0x99), gc(0x00, 0x00, 0xCC), gc(0x00, 0x00, 0x66) },
			{ gc(0x00, 0x66, 0x66), gc(0x00, 0x66, 0x99), gc(0x00, 0x99, 0xCC), gc(0x00, 0x66, 0xCC), gc(0x00, 0x33, 0xCC), gc(0x00, 0x00, 0xFF), gc(0x33, 0x33, 0xFF), gc(0x33, 0x33, 0x99) }, 
			{ gc(0x66, 0x99, 0x99), gc(0x00, 0x99, 0x99), gc(0x33, 0xCC, 0xCC), gc(0x00, 0xCC, 0xFF), gc(0x00, 0x99, 0xFF), gc(0x00, 0x66, 0xFF), gc(0x33, 0x66, 0xFF), gc(0x33, 0x33, 0xCC), gc(0x66, 0x66, 0x99) }, 
			{ gc(0x33, 0x99, 0x66), gc(0x00, 0xCC, 0x99), gc(0x00, 0xFF, 0xCC), gc(0x00, 0xFF, 0xFF), gc(0x33, 0xCC, 0xFF), gc(0x33, 0x99, 0xFF), gc(0x66, 0x99, 0xFF), gc(0x66, 0x66, 0xFF), gc(0x66, 0x00, 0xFF), gc(0x66, 0x00, 0xCC) }, 
			{ gc(0x33, 0x99, 0x33), gc(0x00, 0xCC, 0x66), gc(0x00, 0xFF, 0x99), gc(0x66, 0xFF, 0xCC), gc(0x66, 0xFF, 0xFF), gc(0x66, 0xCC, 0xFF), gc(0x99, 0xCC, 0xFF), gc(0x99, 0x99, 0xFF), gc(0x99, 0x66, 0xFF), gc(0x99, 0x33, 0xFF), gc(0x99, 0x00, 0xFF) }, 
			{ gc(0x00, 0x66, 0x00), gc(0x00, 0xCC, 0x00), gc(0x00, 0xFF, 0x00), gc(0x66, 0xFF, 0x99), gc(0x99, 0xFF, 0xCC), gc(0xCC, 0xFF, 0xFF), gc(0xCC, 0xCC, 0xFF), gc(0xCC, 0x99, 0xFF), gc(0xCC, 0x66, 0xFF), gc(0xCC, 0x33, 0xFF), gc(0xCC, 0x00, 0xFF), gc(0x99, 0x00, 0xCC) }, 
			{ gc(0x00, 0x33, 0x00), gc(0x00, 0x99, 0x33), gc(0x33, 0xCC, 0x33), gc(0x66, 0xFF, 0x66), gc(0x99, 0xFF, 0x99), gc(0xCC, 0xFF, 0xCC), gc(0xFF, 0xFF, 0xFF), gc(0xFF, 0xCC, 0xFF), gc(0xFF, 0x99, 0xFF), gc(0xFF, 0x66, 0xFF), gc(0xFF, 0x00, 0xFF), gc(0xCC, 0x00, 0xCC), gc(0x66, 0x00, 0x66) }, 
			{ gc(0x33, 0x66, 0x00), gc(0x00, 0x99, 0x00), gc(0x66, 0xFF, 0x33), gc(0x99, 0xFF, 0x66), gc(0xCC, 0xFF, 0x99), gc(0xFF, 0xFF, 0xCC), gc(0xFF, 0xCC, 0xCC), gc(0xFF, 0x99, 0xCC), gc(0xFF, 0x66, 0xCC), gc(0xFF, 0x33, 0xCC), gc(0xCC, 0x00, 0x99), gc(0x99, 0x33, 0x99) }, 
			{ gc(0x33, 0x33, 0x00), gc(0x66, 0x99, 0x00), gc(0x99, 0xFF, 0x33), gc(0xCC, 0xFF, 0x66), gc(0xFF, 0xFF, 0x99), gc(0xFF, 0xCC, 0x99), gc(0xFF, 0x99, 0x99), gc(0xFF, 0x66, 0x99), gc(0xFF, 0x33, 0x99), gc(0xCC, 0x33, 0x99), gc(0x99, 0x00, 0x99) }, 
			{ gc(0x66, 0x66, 0x33), gc(0x99, 0xCC, 0x00), gc(0xCC, 0xFF, 0x33), gc(0xFF, 0xFF, 0x66), gc(0xFF, 0xCC, 0x66), gc(0xFF, 0x99, 0x66), gc(0xFF, 0x66, 0x66), gc(0xFF, 0x00, 0x66), gc(0xCC, 0x66, 0x99), gc(0x99, 0x33, 0x66) },
			{ gc(0x99, 0x99, 0x66), gc(0xCC, 0xCC, 0x00), gc(0xFF, 0xFF, 0x00), gc(0xFF, 0xCC, 0x00), gc(0xFF, 0x99, 0x33), gc(0xFF, 0x66, 0x00), gc(0xFF, 0x50, 0x50), gc(0xCC, 0x00, 0x66), gc(0x66, 0x00, 0x33) }, 
			{ gc(0x99, 0x66, 0x33), gc(0xCC, 0x99, 0x00), gc(0xFF, 0x99, 0x00), gc(0xCC, 0x66, 0x00), gc(0xFF, 0x33, 0x00), gc(0xFF, 0x00, 0x00), gc(0xCC, 0x00, 0x00), gc(0x99, 0x00, 0x33) }, 
			{ gc(0x66, 0x33, 0x00), gc(0x99, 0x66, 0x00), gc(0xCC, 0x33, 0x00), gc(0x99, 0x33, 0x00), gc(0x99, 0x00, 0x00), gc(0x80, 0x00, 0x00), gc(0x99, 0x33, 0x33) } 
			};
	//@formatter:on

	public static ComponentUI createUI(JComponent c) {
		return new BasicBHexColorChooserWidgetUI();
	}

	public void installUI(JComponent c) {
	}

	public void uninstallUI(JComponent c) {
	}

	@Override
	public void paint(Graphics g, JComponent c) {
		super.paint(g, c);

		int maxSizeWidth = (int) Math.round((c.getWidth() / numberOfHex)
				/ (Math.sqrt(3) / 2.0));
		int maxSizeHeight = (int) Math
				.round((c.getHeight() / numberOfHex) * (1.25));

		int sizeOfOneHex = Math.min(maxSizeHeight, maxSizeWidth);
		int sizeIOfOneHex = (int) (sizeOfOneHex * (Math.sqrt(3) / 2));
		int radiusOfOneHex = sizeOfOneHex / 2 + 1;
		int radiusIOfOneHex = (int) (radiusOfOneHex * (Math.sqrt(3) / 2));

		int pivotX = c.getWidth() / 2;
		int pivotY = c.getHeight() / 2;

		int startX = (pivotX - (numberOfHex / 2) * sizeIOfOneHex)
				+ ((numberOfHex / 2) * radiusIOfOneHex);
		int startY = (int) (pivotY - (1.5 * radiusOfOneHex) * (numberOfHex / 2));

		int rowWidth = numberOfHex - (numberOfHex / 2);
		for (int y = 0; y < numberOfHex; y++) {
			for (int x = 0; x < rowWidth; x++) {
				g.setColor(getColor(x, y));

				BGraphics2D.fillHexagon(g, g.getColor(), startX + x
						* sizeIOfOneHex, startY, radiusOfOneHex, 0);
			}
			startY += radiusOfOneHex * 1.5;
			startX -= (y < numberOfHex / 2) ? radiusIOfOneHex
					: -radiusIOfOneHex;
			rowWidth += (y < numberOfHex / 2) ? 1 : -1;
		}
	}

	private Color getColor(int x, int y) {
		return colors[y][x];
	}

	private static Color gc(int r, int g, int b) {
		return new Color(r, g, b);
	}

	@Override
	public Dimension getPreferredSize(JComponent c) {
		Dimension ret = new Dimension(Integer.MAX_VALUE, Integer.MAX_VALUE);

		return ret;
	}

	@Override
	public Dimension getMinimumSize(JComponent c) {
		Dimension ret = new Dimension(130, 130);

		return ret;
	}

	@Override
	public Dimension getMaximumSize(JComponent c) {
		Dimension ret = new Dimension(Integer.MAX_VALUE, Integer.MAX_VALUE);

		return ret;
	}

}
